/* Cards */
.card{
  background: var(--surface);
  border:1px solid var(--border);
  border-radius: var(--radius-3);
  box-shadow: var(--shadow-1);
  overflow:hidden;
}
.card--dense{padding: var(--space-4)}
.card--table{padding:0}

.card__head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}
.card__head--table{
  padding: var(--space-4);
  margin-bottom: 0;
  border-bottom: 1px solid var(--border);
}
.card__head-left{display:flex; flex-direction:column; gap:4px}
.card__head-right{display:flex; align-items:center; gap: var(--space-2)}
.card__title{margin:0; font-size:14px; letter-spacing:.2px}
.card__meta{font-size:12px; color:var(--muted)}
.card__foot{padding: var(--space-4); border-top:1px solid var(--border)}

.divider{height:1px; background:var(--border); margin: var(--space-4) 0}

/* Controls */
.toolbar{display:flex; align-items:center; gap: var(--space-2)}
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  gap:8px;
  height: 38px;
  padding: 0 12px;
  border-radius: 12px;
  border:1px solid var(--border);
  background: var(--control-bg);
  color: var(--text);
  cursor:pointer;
  user-select:none;
  transition:transform .05s ease, background .12s ease, border-color .12s ease;
}
.btn:hover{background: var(--control-bg-2)}
.btn:active{transform: translateY(1px)}
.btn--primary{
  background: linear-gradient(135deg, color-mix(in srgb, var(--accent) 92%, white 8%), color-mix(in srgb, var(--accent-2) 86%, black 14%));
  border-color: color-mix(in srgb, var(--accent) 50%, var(--border));
}
.btn--primary:hover{filter:saturate(1.03)}
.btn--ghost{background: transparent}
.btn--small{height:32px; padding:0 10px; border-radius: 10px}
.btn__icon{opacity:.9}
.btn__text{font-size:13px}

.input{
  height: 38px;
  padding: 0 10px;
  border-radius: 12px;
  border:1px solid var(--border);
  background: var(--control-bg);
  color: var(--text);
}
.input--small{height:32px; border-radius:10px; width:86px}

/* Search */
.search{position:relative; flex: 1 1 auto; min-width: 260px}
.search__input{width:100%; height:38px; padding:0 12px; border-radius: 12px; border:1px solid var(--border); background: var(--control-bg); color:var(--text)}
.search__input::placeholder{color: color-mix(in srgb, var(--muted) 80%, transparent)}
.search__hint{position:absolute; left:12px; bottom:-18px; font-size:11px; color:var(--faint)}

/* Pills */
.pill{
  display:inline-flex; align-items:center; gap:6px;
  padding: 4px 10px;
  border-radius: 999px;
  border:1px solid var(--border);
  font-size:12px;
  white-space:nowrap;
}
.pill--muted{color:var(--muted); background: color-mix(in srgb, var(--surface) 70%, black 30%)}

/* KPI */
.kpi-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: var(--space-3);
}
.kpi{
  border:1px solid var(--border);
  background: var(--surface-2);
  border-radius: 14px;
  padding: 12px;
}
.kpi__label{font-size:12px; color:var(--muted)}
.kpi__value{font-size:16px; font-weight:740; margin-top:6px}
.kpi__sub{font-size:12px; color:var(--faint); margin-top:4px}

/* Split lists */
.split{display:grid; grid-template-columns:1fr 1fr; gap: var(--space-3)}
.split__title{font-size:12px; color:var(--muted); margin-bottom:8px}
.mini-list{display:flex; flex-direction:column; gap:8px}
.mini-item{
  display:flex; align-items:center; justify-content:space-between;
  border:1px solid var(--border);
  background: var(--surface-2);
  border-radius: 12px;
  padding: 10px;
}
.mini-item__left{display:flex; align-items:center; gap:10px; min-width:0}
.mini-item__logo{width:22px; height:22px; border-radius:6px; background:var(--spark-bg); border:1px solid var(--border)}
.mini-item__name{font-size:13px; font-weight:650; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; max-width: 160px}
.mini-item__pct{font-variant-numeric:tabular-nums; font-weight:700}

/* News */
.news-list{
  max-height: 240px;
  overflow:auto;
  padding-right: 6px;
}
.news-item{
  display:flex; flex-direction:column; gap:4px;
  padding: 10px 0;
  border-top:1px solid var(--border);
}
.news-item:first-child{border-top:0}
.news-item__title{
  font-size:13px;
  font-weight:650;
  line-height:1.25;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient: vertical;
  overflow:hidden;
}
.news-item__meta{display:flex; align-items:center; gap:10px; font-size:11px; color:var(--muted)}
.news-item__src{padding:2px 8px; border:1px solid var(--border); border-radius:999px; background: var(--surface-2)}
.news-item__time{color:var(--faint)}
.link{color: color-mix(in srgb, var(--accent) 88%, var(--text)); text-decoration:none}
.link:hover{text-decoration:underline}

/* Table */
.table-wrap{
  overflow:auto;
  border-radius: 0 0 var(--radius-3) var(--radius-3);
}
.table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  font-size: 13px;
}
.th, .td{
  padding: 10px 12px;
  border-bottom: 1px solid var(--border);
  white-space:nowrap;
}
.thead .th{position:sticky; top:0; z-index:5}
thead .th{
  background: var(--sticky-bg);
  color: var(--muted);
  font-size: 12px;
  font-weight: 650;
}
tbody tr:hover{background: var(--row-hover)}
.th--sticky, .td--sticky{
  position: sticky;
  left: 0;
  z-index: 3;
  background: var(--sticky-bg);
}
.th--coin, .td--coin{left: 64px; z-index: 4}
.th--rank, .td--rank{left: 0; z-index: 5; width:64px}
.th--rank{text-align:left}
.td--rank{font-variant-numeric:tabular-nums; color: var(--muted)}
.td--num{font-variant-numeric: tabular-nums}

.coin-cell{
  display:flex; align-items:center; gap:10px; min-width: 220px;
}
.coin-cell__logo{
  width:26px; height:26px; border-radius: 8px;
  background: var(--spark-bg);
  border:1px solid var(--border);
}
.coin-cell__meta{display:flex; flex-direction:column; min-width:0}
.coin-cell__name{font-weight: 700; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; max-width: 240px}
.coin-cell__sym{font-size: 11px; color: var(--muted)}
.badge{
  display:inline-flex;
  align-items:center;
  justify-content:flex-end;
  min-width: 70px;
  font-variant-numeric: tabular-nums;
  font-weight: 750;
}
.badge--pos{color: var(--pos)}
.badge--neg{color: var(--neg)}
.badge--muted{color: var(--muted)}
.spark{
  width: 120px;
  height: 28px;
  border-radius: 10px;
  background: var(--spark-bg);
  border: 1px solid var(--border);
}

/* Pagination */
.pagination{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: var(--space-3);
}
.pagination__center{
  display:flex;
  align-items:center;
  gap: var(--space-3);
  flex-wrap:wrap;
  justify-content:center;
}
.pagination__status{font-size:12px; color:var(--muted)}
.pagination__jump{display:flex; align-items:center; gap:8px}

/* Select */
.select__control{
  height: 38px;
  border-radius: 12px;
  border:1px solid var(--border);
  background: var(--control-bg);
  color: var(--text);
  padding: 0 10px;
}

/* Segment control */
.seg{
  display:inline-flex;
  border:1px solid var(--border);
  border-radius: 14px;
  overflow:hidden;
  background: var(--surface-2);
}
.seg__btn{
  height: 32px;
  padding: 0 10px;
  border:0;
  background: transparent;
  color: var(--muted);
  cursor:pointer;
}
.seg__btn.is-active{
  background: color-mix(in srgb, var(--accent) 18%, transparent);
  color: var(--text);
}

/* Fear&Greed inline */
.feargreed{
  display:flex;
  align-items:center;
  gap:10px;
}
.fg-chip{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 6px 10px;
  border:1px solid var(--border);
  border-radius: 999px;
  background: var(--surface-2);
  font-size: 12px;
  color: var(--muted);
}
.fg-chip__val{font-weight:800; color: var(--text)}
.fg-bar{
  width: 84px;
  height: 8px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--surface) 80%, black 20%);
  border:1px solid var(--border);
  overflow:hidden;
}
.fg-bar__fill{height:100%; width:50%}

/* Responsive table density */
@media (max-width: 820px){
  .coin-cell{min-width: 200px}
  .spark{width: 110px}
  .kpi-grid{grid-template-columns:1fr}
  .split{grid-template-columns:1fr}
}

<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* ===== СБРОС И БАЗОВЫЕ СТИЛИ ===== */
        *, *::before, *::after {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        html {
          scroll-behavior: smooth;
        }

        body {
          font-family: 'Arial', 'Segoe UI', system-ui, -apple-system, sans-serif;
          line-height: 1.6;
          background: #0f1421;
          color: #ffffff;
          transition: all 0.3s ease;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }

        /* ===== ПЕРЕМЕННЫЕ ДЛЯ ТЕМ ===== */
        [data-theme="light"] {
          --bg-primary: #ffffff;
          --bg-secondary: #f8f9fa;
          --bg-card: #ffffff;
          --bg-overlay: rgba(0, 0, 0, 0.5);
          --text-primary: #1f2937;
          --text-secondary: #6b7280;
          --text-tertiary: #9ca3af;
          --border-color: #e5e7eb;
          --border-light: #f3f4f6;
          --accent-color: #2962ff;
          --accent-hover: #1e40af;
          --accent-light: #dbeafe;
          --positive-color: #10b981;
          --positive-light: #d1fae5;
          --negative-color: #ef4444;
          --negative-light: #fee2e2;
          --warning-color: #f59e0b;
          --warning-light: #fef3c7;
          --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
          --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
          --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
          --shadow-hover: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
          --gradient-primary: linear-gradient(135deg, #2962ff 0%, #7c4dff 100%);
          --skeleton-bg: #f3f4f6;
          --skeleton-shine: #e5e7eb;
        }

        [data-theme="dark"] {
          --bg-primary: #0f1421;
          --bg-secondary: #1a1f2e;
          --bg-card: #1a1f2e;
          --bg-overlay: rgba(0, 0, 0, 0.7);
          --text-primary: #f9fafb;
          --text-secondary: #d1d5db;
          --text-tertiary: #9ca3af;
          --border-color: #374151;
          --border-light: #4b5563;
          --accent-color: #3b82f6;
          --accent-hover: #2563eb;
          --accent-light: #1e3a8a;
          --positive-color: #10b981;
          --positive-light: #065f46;
          --negative-color: #ef4444;
          --negative-light: #7f1d1d;
          --warning-color: #f59e0b;
          --warning-light: #78350f;
          --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2);
          --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
          --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
          --shadow-hover: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
          --gradient-primary: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
          --skeleton-bg: #374151;
          --skeleton-shine: #4b5563;
        }

        /* ===== ПРИМЕНЕНИЕ ТЕМЫ ===== */
        body {
          background-color: var(--bg-primary);
          color: var(--text-primary);
          min-height: 100vh;
        }

        /* ===== КОНТЕЙНЕРЫ ===== */
        .container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 0 20px;
        }

        /* ===== HEADER ===== */
        .site-header {
          background: var(--bg-secondary);
          border-bottom: 1px solid var(--border-color);
          padding: 16px 0;
          position: sticky;
          top: 0;
          z-index: 1000;
          backdrop-filter: blur(10px);
        }

        .header-content {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 20px;
        }

        .logo {
          font-size: 28px;
          font-weight: 800;
          color: var(--accent-color);
          text-decoration: none;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        /* ===== ПАНЕЛЬ УПРАВЛЕНИЯ ===== */
        .control-panel {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        /* Переключатель языка */
        .lang-switcher {
          display: flex;
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 12px;
          padding: 4px;
        }

        .lang-btn {
          padding: 8px 16px;
          border: none;
          background: none;
          color: var(--text-secondary);
          cursor: pointer;
          border-radius: 8px;
          transition: all 0.3s ease;
          font-weight: 500;
        }

        .lang-btn.active {
          background: var(--accent-color);
          color: white;
        }

        .lang-btn:hover:not(.active) {
          background: var(--bg-secondary);
        }

        /* Переключатель темы */
        .theme-control {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .theme-label {
          font-size: 14px;
          color: var(--text-secondary);
          font-weight: 500;
          min-width: 60px;
        }

        .theme-switch {
          position: relative;
          display: inline-block;
          width: 60px;
          height: 28px;
        }

        .theme-switch input {
          opacity: 0;
          width: 0;
          height: 0;
        }

        .theme-slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: var(--border-color);
          transition: .4s;
          border-radius: 34px;
        }

        .theme-slider:before {
          position: absolute;
          content: "";
          height: 20px;
          width: 20px;
          left: 4px;
          bottom: 4px;
          background-color: white;
          transition: .4s;
          border-radius: 50%;
        }

        input:checked + .theme-slider {
          background: var(--accent-color);
        }

        input:checked + .theme-slider:before {
          transform: translateX(32px);
        }

        /* ===== PROMO СЕКЦИЯ ===== */
        .promo-section {
          background: var(--gradient-primary);
          color: white;
          text-align: center;
          padding: 120px 0;
          position: relative;
          overflow: hidden;
        }

        .promo-content {
          position: relative;
          z-index: 2;
          max-width: 800px;
          margin: 0 auto;
        }

        .promo-title {
          font-size: 3.5rem;
          margin-bottom: 24px;
          font-weight: 800;
          line-height: 1.1;
        }

        .promo-subtitle {
          font-size: 1.25rem;
          margin-bottom: 40px;
          opacity: 0.9;
          line-height: 1.6;
        }

        .promo-btn {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 16px 32px;
          background: white;
          color: var(--accent-color);
          text-decoration: none;
          border-radius: 12px;
          font-weight: 600;
          border: none;
          cursor: pointer;
          transition: all 0.3s ease;
          font-size: 1rem;
          box-shadow: var(--shadow-lg);
        }

        .promo-btn:hover {
          transform: translateY(-2px);
          box-shadow: var(--shadow-hover);
        }

        /* ===== ОСНОВНЫЕ СЕКЦИИ ===== */
        .section {
          padding: 80px 0;
        }

        .section-title {
          font-size: 2.5rem;
          text-align: center;
          margin-bottom: 48px;
          color: var(--text-primary);
          position: relative;
          font-weight: 700;
        }

        .section-title::after {
          content: '';
          position: absolute;
          bottom: -16px;
          left: 50%;
          transform: translateX(-50%);
          width: 80px;
          height: 4px;
          background: var(--accent-color);
          border-radius: 2px;
        }

        /* ===== FEAR & GREED INDEX ===== */
        .fear-greed-widget {
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 20px;
          padding: 32px;
          margin: 40px 0;
          box-shadow: var(--shadow-lg);
          transition: all 0.3s ease;
        }

        .fear-greed-widget:hover {
          box-shadow: var(--shadow-hover);
        }

        .fear-greed-title {
          text-align: center;
          font-size: 1.75rem;
          margin-bottom: 32px;
          color: var(--text-primary);
          font-weight: 700;
        }

        .fear-greed-container {
          display: grid;
          grid-template-columns: 2fr 1fr;
          gap: 32px;
          align-items: start;
        }

        .fear-greed-scale {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .scale-labels {
          display: flex;
          justify-content: space-between;
          font-size: 0.75rem;
          color: var(--text-secondary);
          font-weight: 600;
        }

        .scale-bar {
          position: relative;
          height: 32px;
          background: var(--bg-secondary);
          border-radius: 16px;
          overflow: hidden;
        }

        .scale-gradient {
          display: flex;
          height: 100%;
          width: 100%;
        }

        .scale-segment {
          flex: 1;
          height: 100%;
        }

        .extreme-fear { background: linear-gradient(90deg, #dc2626, #ef4444); }
        .fear { background: #f59e0b; }
        .neutral { background: #eab308; }
        .greed { background: #84cc16; }
        .extreme-greed { background: linear-gradient(90deg, #16a34a, #22c55e); }

        .fear-greed-indicator {
          position: absolute;
          top: -8px;
          transform: translateX(-50%);
          transition: left 0.8s ease;
          z-index: 10;
        }

        .indicator-arrow {
          width: 0;
          height: 0;
          border-left: 10px solid transparent;
          border-right: 10px solid transparent;
          border-bottom: 12px solid var(--accent-color);
          margin: 0 auto;
        }

        .indicator-line {
          width: 4px;
          height: 44px;
          background: var(--accent-color);
          margin: 0 auto;
          border-radius: 2px;
        }

        .scale-states {
          display: flex;
          justify-content: space-between;
          font-size: 0.75rem;
          color: var(--text-secondary);
          text-align: center;
        }

        .state-label {
          flex: 1;
          padding: 0 8px;
        }

        .fear-greed-info {
          display: flex;
          flex-direction: column;
          gap: 24px;
          padding: 24px;
          background: var(--bg-secondary);
          border-radius: 16px;
        }

        .current-value, .current-state {
          text-align: center;
        }

        .value-number {
          display: block;
          font-size: 3rem;
          font-weight: 800;
          color: var(--accent-color);
          line-height: 1;
        }

        .state-text {
          display: block;
          font-size: 1.5rem;
          font-weight: 700;
          color: var(--text-primary);
          line-height: 1.2;
        }

        .value-label, .state-label {
          display: block;
          font-size: 0.875rem;
          color: var(--text-secondary);
          margin-top: 5px;
        }

        /* ===== КЛИКАБЕЛЬНЫЕ МОНЕТЫ ===== */
        .coin-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
          gap: 24px;
          margin-bottom: 48px;
        }

        .coin-card {
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 16px;
          padding: 24px;
          transition: all 0.3s ease;
          position: relative;
          overflow: hidden;
          box-shadow: var(--shadow);
          cursor: pointer;
        }

        .coin-card:hover {
          transform: translateY(-4px);
          box-shadow: var(--shadow-hover);
          border-color: var(--accent-color);
        }

        .coin-card::after {
          content: '→';
          position: absolute;
          top: 20px;
          right: 20px;
          color: var(--text-secondary);
          font-size: 18px;
          font-weight: bold;
          opacity: 0;
          transition: all 0.3s ease;
        }

        .coin-card:hover::after {
          opacity: 1;
          transform: translateX(3px);
        }

        .coin-rank {
          position: absolute;
          top: 16px;
          right: 16px;
          background: var(--accent-color);
          color: white;
          width: 28px;
          height: 28px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 0.75rem;
          font-weight: 700;
        }

        .coin-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 16px;
        }

        .coin-icon {
          width: 48px;
          height: 48px;
          border-radius: 50%;
          object-fit: cover;
          border: 2px solid var(--border-light);
        }

        .coin-info {
          flex: 1;
        }

        .coin-name {
          font-size: 1.125rem;
          font-weight: 700;
          color: var(--text-primary);
          margin-bottom: 2px;
        }

        .coin-symbol {
          color: var(--text-secondary);
          text-transform: uppercase;
          font-size: 0.875rem;
          font-weight: 600;
        }

        .coin-price {
          font-size: 1.5rem;
          font-weight: 800;
          color: var(--accent-color);
          margin-bottom: 8px;
        }

        .coin-change {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 8px 12px;
          border-radius: 8px;
          font-size: 0.875rem;
          font-weight: 700;
          margin-bottom: 16px;
        }

        .change-positive {
          background: var(--positive-light);
          color: var(--positive-color);
        }

        .change-negative {
          background: var(--negative-light);
          color: var(--negative-color);
        }

        .coin-stats {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 12px;
          margin-bottom: 20px;
        }

        .coin-stat {
          display: flex;
          flex-direction: column;
          gap: 2px;
        }

        .stat-value {
          font-size: 0.875rem;
          font-weight: 600;
          color: var(--text-primary);
        }

        .stat-label {
          font-size: 0.75rem;
          color: var(--text-tertiary);
        }

        .coin-sparkline {
          width: 100%;
          height: 60px;
          margin-bottom: 16px;
        }

        /* ===== ПАГИНАЦИЯ ===== */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 40px;
        }

        .page-btn {
            padding: 12px 24px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .page-btn:hover:not(:disabled) {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .page-info {
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* ===== МОДАЛЬНОЕ ОКНО ===== */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: var(--bg-overlay);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 10000;
          padding: 20px;
          backdrop-filter: blur(5px);
        }

        .modal-content {
          background: var(--bg-card);
          border-radius: 20px;
          padding: 30px;
          max-width: 500px;
          width: 100%;
          max-height: 90vh;
          overflow-y: auto;
          position: relative;
          border: 1px solid var(--border-color);
          box-shadow: var(--shadow-hover);
          animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
          from {
            opacity: 0;
            transform: translateY(-20px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        .modal-close {
          position: absolute;
          top: 15px;
          right: 20px;
          background: none;
          border: none;
          font-size: 28px;
          color: var(--text-secondary);
          cursor: pointer;
          width: 40px;
          height: 40px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
        }

        .modal-close:hover {
          background: var(--bg-secondary);
          color: var(--text-primary);
        }

        .modal-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 25px;
          padding-bottom: 20px;
          border-bottom: 1px solid var(--border-color);
        }

        .coin-icon-large {
          width: 60px;
          height: 60px;
          border-radius: 50%;
          object-fit: cover;
        }

        .coin-rank-large {
          background: var(--accent-color);
          color: white;
          padding: 8px 16px;
          border-radius: 20px;
          font-weight: bold;
          font-size: 14px;
        }

        .price-section {
          text-align: center;
          margin-bottom: 25px;
        }

        .current-price {
          font-size: 2.5rem;
          font-weight: 800;
          color: var(--accent-color);
          margin-bottom: 8px;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 15px;
          margin-bottom: 25px;
        }

        .stat-item {
          background: var(--bg-secondary);
          padding: 15px;
          border-radius: 12px;
          text-align: center;
        }

        .stat-item .stat-label {
          font-size: 0.875rem;
          color: var(--text-secondary);
          margin-bottom: 5px;
        }

        .stat-item .stat-value {
          font-size: 1.1rem;
          font-weight: 600;
          color: var(--text-primary);
        }

        .action-buttons {
          display: flex;
          gap: 12px;
          justify-content: center;
        }

        .action-btn {
          padding: 12px 24px;
          background: var(--accent-color);
          color: white;
          text-decoration: none;
          border-radius: 8px;
          font-size: 0.875rem;
          transition: all 0.3s ease;
          border: none;
          cursor: pointer;
          font-weight: 600;
          text-align: center;
        }

        .action-btn:hover {
          background: var(--accent-hover);
          transform: translateY(-1px);
        }

        .action-btn.secondary {
          background: var(--bg-secondary);
          color: var(--text-primary);
          border: 1px solid var(--border-color);
        }

        .action-btn.secondary:hover {
          background: var(--border-color);
        }

        /* ===== АДАПТИВНОСТЬ ===== */
        @media (max-width: 768px) {
          .header-content {
            flex-direction: column;
            gap: 15px;
          }
          
          .promo-title {
            font-size: 2.5rem;
          }
          
          .coin-grid {
            grid-template-columns: 1fr;
          }
          
          .section {
            padding: 60px 0;
          }
          
          .fear-greed-container {
            grid-template-columns: 1fr;
            gap: 20px;
          }
          
          .section-title {
            font-size: 2rem;
          }
          
          .modal-content {
            margin: 10px;
            padding: 20px;
          }
          
          .stats-grid {
            grid-template-columns: 1fr;
          }
          
          .action-buttons {
            flex-direction: column;
          }
        }

        @media (max-width: 480px) {
          .container {
            padding: 0 16px;
          }
          
          .fear-greed-widget {
            padding: 20px;
          }
          
          .coin-card {
            padding: 20px;
          }
          
          .promo-section {
            padding: 80px 0;
          }
          
          .promo-title {
            font-size: 2rem;
          }
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <header class="site-header">
        <div class="container">
            <div class="header-content">
                <div class="logo" id="siteLogo">CryptoDrom</div>
                
                <div class="control-panel">
                    <!-- Переключатели -->
                    <div class="lang-switcher">
                        <button class="lang-btn active" data-lang="ru">RU</button>
                        <button class="lang-btn" data-lang="en">EN</button>
                    </div>
                    
                    <div class="theme-control">
                        <span class="theme-label" id="themeText">Тёмная</span>
                        <label class="theme-switch">
                            <input type="checkbox" id="themeToggle" checked>
                            <span class="theme-slider"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- PROMO СЕКЦИЯ -->
    <section class="promo-section">
        <div class="container">
            <div class="promo-content">
                <h1 class="promo-title" id="promoTitle">Добро пожаловать в Crypto Dashboard</h1>
                <p class="promo-subtitle" id="promoSubtitle">Ваш центр для анализа рынка и кастомизации интерфейса.</p>
                <button class="promo-btn" id="promoBtn">Вперёд</button>
            </div>
        </div>
    </section>

    <!-- СЕКЦИЯ МОНЕТ -->
    <section class="section coins-section" id="coinsSection">
        <div class="container">
            <h2 class="section-title" id="coinsTitle">Топ Криптовалют</h2>

            <!-- Fear & Greed Index -->
            <div class="fear-greed-widget">
                <h3 class="fear-greed-title">Индекс Страха и Жадности</h3>
                <div class="fear-greed-container">
                    <div class="fear-greed-scale">
                        <div class="scale-labels">
                            <span>0</span><span>25</span><span>50</span><span>75</span><span>100</span>
                        </div>
                        <div class="scale-bar">
                            <div class="scale-gradient">
                                <div class="scale-segment extreme-fear"></div>
                                <div class="scale-segment fear"></div>
                                <div class="scale-segment neutral"></div>
                                <div class="scale-segment greed"></div>
                                <div class="scale-segment extreme-greed"></div>
                            </div>
                            <div class="fear-greed-indicator" id="fearGreedIndicator">
                                <div class="indicator-arrow"></div>
                                <div class="indicator-line"></div>
                            </div>
                        </div>
                        <div class="scale-states">
                            <span class="state-label">Крайний страх</span>
                            <span class="state-label">Страх</span>
                            <span class="state-label">Нейтрально</span>
                            <span class="state-label">Жадность</span>
                            <span class="state-label">Крайняя жадность</span>
                        </div>
                    </div>
                    <div class="fear-greed-info">
                        <div class="current-value">
                            <span class="value-number" id="fearGreedValue">75</span>
                            <span class="value-label">Текущее значение</span>
                        </div>
                        <div class="current-state">
                            <span class="state-text" id="fearGreedText">Жадность</span>
                            <span class="state-label">Состояние рынка</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Сетка монет -->
            <div class="coin-grid" id="coinGrid">
                <!-- Монеты будут загружены через JavaScript -->
            </div>

            <!-- Пагинация -->
            <div class="pagination">
                <button class="page-btn" id="prevPage">← Назад</button>
                <span class="page-info" id="pageInfo">Страница 1</span>
                <button class="page-btn" id="nextPage">Вперёд →</button>
            </div>
        </div>
    </section>

    <script>
        // ===== КОНФИГУРАЦИЯ ПРИЛОЖЕНИЯ =====
        const CONFIG = {
            coinsPerPage: 20,
            currentPage: 1,
            currentLang: 'ru',
            currentTheme: 'dark',
            fearGreedValue: 75,
            fearGreedState: 'greed'
        };

        // ===== ДАННЫЕ ДЛЯ ПОИСКА =====
        let allCoinsCache = [];
        let currentCharts = new Map();

        // ===== ПЕРЕВОДЫ =====
        const TRANSLATIONS = {
            ru: {
                siteLogo: 'CryptoDrom',
                themeText: 'Тёмная',
                promoTitle: 'Добро пожаловать в Crypto Dashboard',
                promoSubtitle: 'Ваш центр для анализа рынка и кастомизации интерфейса.',
                promoBtn: 'Вперёд',
                coinsTitle: 'Топ Криптовалют',
                fearGreedTitle: 'Индекс Страха и Жадности',
                page: 'Страница',
                tradingView: 'TradingView',
                details: 'Детали',
                loading: 'Загрузка...',
                error: 'Ошибка загрузки',
                retry: 'Повторить',
                noResults: 'Ничего не найдено',
                changeSearch: 'Попробуйте изменить запрос',
                marketCap: 'Капитализация',
                volume: 'Объем 24ч',
                lastUpdate: 'Обновлено',
                extremeFear: 'Крайний страх',
                fear: 'Страх',
                neutral: 'Нейтрально',
                greed: 'Жадность',
                extremeGreed: 'Крайняя жадность',
                currentValue: 'Текущее значение',
                marketState: 'Состояние рынка',
                price: 'Цена',
                change24h: 'Изменение 24ч',
                rank: 'Ранг',
                sparkline: 'График 7д',
                showing: 'Показано',
                of: 'из',
                results: 'результатов',
                for: 'для'
            },
            en: {
                siteLogo: 'CryptoDrom',
                themeText: 'Dark',
                promoTitle: 'Welcome to Crypto Dashboard',
                promoSubtitle: 'Your hub for market analysis and interface customization.',
                promoBtn: 'Get Started',
                coinsTitle: 'Top Cryptocurrencies',
                fearGreedTitle: 'Fear & Greed Index',
                page: 'Page',
                tradingView: 'TradingView',
                details: 'Details',
                loading: 'Loading...',
                error: 'Load error',
                retry: 'Retry',
                noResults: 'No results found',
                changeSearch: 'Try changing your search',
                marketCap: 'Market Cap',
                volume: '24h Volume',
                lastUpdate: 'Last update',
                extremeFear: 'Extreme Fear',
                fear: 'Fear',
                neutral: 'Neutral',
                greed: 'Greed',
                extremeGreed: 'Extreme Greed',
                currentValue: 'Current Value',
                marketState: 'Market State',
                price: 'Price',
                change24h: '24h Change',
                rank: 'Rank',
                sparkline: '7D Chart',
                showing: 'Showing',
                of: 'of',
                results: 'results',
                for: 'for'
            }
        };

        // ===== ТЕСТОВЫЕ ДАННЫЕ =====
        const TEST_COINS = [
            {
                id: "bitcoin",
                name: "Bitcoin",
                symbol: "btc",
                image: "https://assets.coingecko.com/coins/images/1/small/bitcoin.png",
                current_price: 58728.42,
                price_change_percentage_24h: 2.5,
                market_cap: 1150000000000,
                total_volume: 28500000000,
                market_cap_rank: 1
            },
            {
                id: "ethereum",
                name: "Ethereum", 
                symbol: "eth",
                image: "https://assets.coingecko.com/coins/images/279/small/ethereum.png",
                current_price: 2935.51,
                price_change_percentage_24h: -1.2,
                market_cap: 352000000000,
                total_volume: 15200000000,
                market_cap_rank: 2
            },
            {
                id: "tether",
                name: "Tether",
                symbol: "usdt",
                image: "https://assets.coingecko.com/coins/images/325/small/Tether.png",
                current_price: 1.00,
                price_change_percentage_24h: 0.0,
                market_cap: 95600000000,
                total_volume: 45200000000,
                market_cap_rank: 3
            },
            {
                id: "ripple",
                name: "XRP",
                symbol: "xrp",
                image: "https://assets.coingecko.com/coins/images/44/small/xrp-symbol-white-128.png",
                current_price: 0.52,
                price_change_percentage_24h: 0.39,
                market_cap: 28500000000,
                total_volume: 1250000000,
                market_cap_rank: 4
            },
            {
                id: "cardano",
                name: "Cardano",
                symbol: "ada",
                image: "https://assets.coingecko.com/coins/images/975/small/cardano.png",
                current_price: 0.48,
                price_change_percentage_24h: 1.8,
                market_cap: 17000000000,
                total_volume: 450000000,
                market_cap_rank: 5
            },
            {
                id: "dogecoin",
                name: "Dogecoin",
                symbol: "doge",
                image: "https://assets.coingecko.com/coins/images/5/small/dogecoin.png",
                current_price: 0.12,
                price_change_percentage_24h: -0.5,
                market_cap: 17200000000,
                total_volume: 850000000,
                market_cap_rank: 6
            }
        ];

        // ===== ОСНОВНОЙ JavaScript КОД =====
        document.addEventListener('DOMContentLoaded', function() {
            // Инициализация приложения
            initializeApp();
            
            // Загрузка тестовых данных
            loadTestData();
            
            // Настройка обработчиков событий
            setupEventListeners();
        });

        function initializeApp() {
            // Установка начальной темы
            document.documentElement.setAttribute('data-theme', CONFIG.currentTheme);
            updateThemeText();
            
            // Обновление индекса страха и жадности
            updateFearGreedIndex();
        }

        function loadTestData() {
            allCoinsCache = TEST_COINS;
            renderCoins(TEST_COINS);
            updatePaginationInfo();
        }

        function setupEventListeners() {
            // Переключатель темы
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.addEventListener('change', toggleTheme);
            }

            // Переключатели языка
            const langButtons = document.querySelectorAll('.lang-btn');
            langButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    switchLanguage(lang);
                });
            });

            // Кнопки пагинации
            const prevBtn = document.getElementById('prevPage');
            const nextBtn = document.getElementById('nextPage');
            
            if (prevBtn) prevBtn.addEventListener('click', goToPrevPage);
            if (nextBtn) nextBtn.addEventListener('click', goToNextPage);

            // Кнопка "Вперёд" в промо-секции
            const promoBtn = document.getElementById('promoBtn');
            if (promoBtn) {
                promoBtn.addEventListener('click', function() {
                    document.getElementById('coinsSection').scrollIntoView({ 
                        behavior: 'smooth' 
                    });
                });
            }
        }

        function toggleTheme() {
            const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
            const newTheme = isDark ? 'light' : 'dark';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            CONFIG.currentTheme = newTheme;
            updateThemeText();
        }

        function updateThemeText() {
            const themeText = document.getElementById('themeText');
            if (themeText) {
                themeText.textContent = CONFIG.currentTheme === 'dark' 
                    ? TRANSLATIONS[CONFIG.currentLang].themeText 
                    : 'Светлая';
            }
        }

        function switchLanguage(lang) {
            CONFIG.currentLang = lang;
            
            // Обновляем активную кнопку языка
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
            });
            
            // Обновляем тексты на странице
            updatePageTexts();
        }

        function updatePageTexts() {
            const t = TRANSLATIONS[CONFIG.currentLang];
            
            // Обновляем основные тексты
            const elementsToUpdate = {
                'siteLogo': t.siteLogo,
                'themeText': CONFIG.currentTheme === 'dark' ? t.themeText : 'Светлая',
                'promoTitle': t.promoTitle,
                'promoSubtitle': t.promoSubtitle,
                'promoBtn': t.promoBtn,
                'coinsTitle': t.coinsTitle,
                'fearGreedTitle': t.fearGreedTitle
            };
            
            Object.keys(elementsToUpdate).forEach(id => {
                const element = document.getElementById(id);
                if (element) element.textContent = elementsToUpdate[id];
            });
        }

        function updateFearGreedIndex() {
            const indicator = document.getElementById('fearGreedIndicator');
            const valueElement = document.getElementById('fearGreedValue');
            const textElement = document.getElementById('fearGreedText');
            
            if (indicator && valueElement && textElement) {
                const value = CONFIG.fearGreedValue;
                const position = (value / 100) * 100;
                
                indicator.style.left = `${position}%`;
                valueElement.textContent = value;
                
                // Определяем состояние
                let stateText = '';
                if (value <= 25) stateText = TRANSLATIONS[CONFIG.currentLang].extremeFear;
                else if (value <= 45) stateText = TRANSLATIONS[CONFIG.currentLang].fear;
                else if (value <= 55) stateText = TRANSLATIONS[CONFIG.currentLang].neutral;
                else if (value <= 75) stateText = TRANSLATIONS[CONFIG.currentLang].greed;
                else stateText = TRANSLATIONS[CONFIG.currentLang].extremeGreed;
                
                textElement.textContent = stateText;
            }
        }

        function renderCoins(coins) {
            const coinGrid = document.getElementById('coinGrid');
            if (!coinGrid) return;
            
            coinGrid.innerHTML = '';
            
            coins.forEach(coin => {
                const coinCard = createCoinCard(coin);
                coinGrid.appendChild(coinCard);
            });
        }

        function createCoinCard(coin) {
            const t = TRANSLATIONS[CONFIG.currentLang];
            const changeClass = coin.price_change_percentage_24h >= 0 ? 'change-positive' : 'change-negative';
            const changeSign = coin.price_change_percentage_24h >= 0 ? '+' : '';
            
            const card = document.createElement('div');
            card.className = 'coin-card';
            card.innerHTML = `
                <div class="coin-rank">${coin.market_cap_rank}</div>
                <div class="coin-header">
                    <img src="${coin.image}" alt="${coin.name}" class="coin-icon" onerror="this.src='https://via.placeholder.com/48'">
                    <div class="coin-info">
                        <div class="coin-name">${coin.name}</div>
                        <div class="coin-symbol">${coin.symbol.toUpperCase()}</div>
                    </div>
                </div>
                <div class="coin-price">$${coin.current_price.toLocaleString()}</div>
                <div class="coin-change ${changeClass}">
                    ${changeSign}${coin.price_change_percentage_24h.toFixed(2)}%
                </div>
                <div class="coin-stats">
                    <div class="coin-stat">
                        <div class="stat-value">$${(coin.market_cap / 1000000000).toFixed(2)}B</div>
                        <div class="stat-label">${t.marketCap}</div>
                    </div>
                    <div class="coin-stat">
                        <div class="stat-value">$${(coin.total_volume / 1000000).toFixed(2)}M</div>
                        <div class="stat-label">${t.volume}</div>
                    </div>
                </div>
                <canvas class="coin-sparkline" width="300" height="60"></canvas>
            `;
            
            // Добавляем обработчик клика
            card.addEventListener('click', () => showCoinModal(coin));
            
            return card;
        }

        function showCoinModal(coin) {
            // Создаем модальное окно для монеты
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content">
                    <button class="modal-close">&times;</button>
                    <div class="modal-header">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <img src="${coin.image}" alt="${coin.name}" class="coin-icon-large">
                            <div>
                                <h3 style="margin: 0; color: var(--text-primary);">${coin.name}</h3>
                                <div style="color: var(--text-secondary); text-transform: uppercase;">${coin.symbol}</div>
                            </div>
                        </div>
                        <div class="coin-rank-large">#${coin.market_cap_rank}</div>
                    </div>
                    
                    <div class="price-section">
                        <div class="current-price">$${coin.current_price.toLocaleString()}</div>
                        <div class="coin-change ${coin.price_change_percentage_24h >= 0 ? 'change-positive' : 'change-negative'}">
                            ${coin.price_change_percentage_24h >= 0 ? '+' : ''}${coin.price_change_percentage_24h.toFixed(2)}%
                        </div>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">${TRANSLATIONS[CONFIG.currentLang].marketCap}</div>
                            <div class="stat-value">$${(coin.market_cap / 1000000000).toFixed(2)}B</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">${TRANSLATIONS[CONFIG.currentLang].volume}</div>
                            <div class="stat-value">$${(coin.total_volume / 1000000).toFixed(2)}M</div>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <a href="https://www.tradingview.com/symbols/${coin.symbol.toUpperCase()}USD/" 
                           target="_blank" class="action-btn">
                            ${TRANSLATIONS[CONFIG.currentLang].tradingView}
                        </a>
                        <button class="action-btn secondary" onclick="this.closest('.modal-overlay').remove()">
                            ${TRANSLATIONS[CONFIG.currentLang].details}
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Обработчик закрытия
            modal.querySelector('.modal-close').addEventListener('click', () => {
                modal.remove();
            });
            
            // Закрытие по клику вне модального окна
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        function goToPrevPage() {
            if (CONFIG.currentPage > 1) {
                CONFIG.currentPage--;
                updatePaginationInfo();
            }
        }

        function goToNextPage() {
            const totalPages = Math.ceil(allCoinsCache.length / CONFIG.coinsPerPage);
            if (CONFIG.currentPage < totalPages) {
                CONFIG.currentPage++;
                updatePaginationInfo();
            }
        }

        function updatePaginationInfo() {
            const pageInfo = document.getElementById('pageInfo');
            const prevBtn = document.getElementById('prevPage');
            const nextBtn = document.getElementById('nextPage');
            
            if (pageInfo) {
                pageInfo.textContent = `${TRANSLATIONS[CONFIG.currentLang].page} ${CONFIG.currentPage}`;
            }
            
            if (prevBtn) {
                prevBtn.disabled = CONFIG.currentPage === 1;
            }
            
            if (nextBtn) {
                const totalPages = Math.ceil(allCoinsCache.length / CONFIG.coinsPerPage);
                nextBtn.disabled = CONFIG.currentPage === totalPages;
            }
        }
    </script>
</body>
</html>

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Redirectingâ€¦</title>
    <script>
      (function () {
        var l = window.location;
        var isGithubIo = /\.github\.io$/.test(l.hostname);
        var segments = l.pathname.split("/").filter(Boolean);
        // On https://<user>.github.io/<repo>/..., the first segment is the repo name.
        var repo = isGithubIo && segments.length ? segments[0] : "";
        var base = repo ? "/" + repo + "/" : "/";

        // Preserve the original path (without the repo segment on github.io)
        var rest = segments.slice(repo ? 1 : 0).join("/");
        var originalPath = "/" + rest;

        // Preserve existing search params (without leading '?')
        var search = l.search ? l.search.slice(1) : "";

        // Redirect to index with encoded path; index.html will restore it via history API.
        var target =
          base +
          "?p=" +
          encodeURIComponent(originalPath) +
          (search ? "&q=" + encodeURIComponent(search) : "") +
          l.hash;

        l.replace(l.protocol + "//" + l.host + target);
      })();
    </script>
  </head>
  <body></body>
</html>
